

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Run QA Test &mdash; SIGLA Tools 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Spreadsheet Id Format" href="spreadsheet_id_format.html" />
    <link rel="prev" title="Get next update and verify dates" href="get_next_uv_dates.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SIGLA Tools
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#stable-release">Stable release</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#from-sources">From sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Package modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="siglatools.html">siglatools package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="siglatools.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="siglatools.bin.html">siglatools.bin package</a></li>
<li class="toctree-l4"><a class="reference internal" href="siglatools.databases.html">siglatools.databases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="siglatools.institution_extracters.html">siglatools.institution_extracters package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="siglatools.html#module-siglatools">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="document_store_schema.html">Document Store Schema</a><ul>
<li class="toctree-l2"><a class="reference internal" href="document_store_schema.html#institutions">Institutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_store_schema.html#variables">Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_store_schema.html#rights">Rights</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_store_schema.html#amendments">Amendments</a></li>
<li class="toctree-l2"><a class="reference internal" href="document_store_schema.html#body-of-laws">Body of Laws</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="run_data_pipeline.html">Run Data Pipeline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="run_data_pipeline.html#command-line">Command line</a></li>
<li class="toctree-l2"><a class="reference internal" href="run_data_pipeline.html#github-actions-for-collaborators-only">GitHub Actions (for collaborators+ only)</a></li>
<li class="toctree-l2"><a class="reference internal" href="run_data_pipeline.html#debugging-data-pipeline-logs">Debugging Data Pipeline Logs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="run_external_link_checker.html">Run External Link Checker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="run_external_link_checker.html#command-line">Command line</a></li>
<li class="toctree-l2"><a class="reference internal" href="run_external_link_checker.html#github-actions-for-collaborators-only">GitHub Actions (for collaborators+ only)</a></li>
<li class="toctree-l2"><a class="reference internal" href="run_external_link_checker.html#external-links-reasons">External Links Reasons</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="get_next_uv_dates.html">Get next update and verify dates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="get_next_uv_dates.html#command-line">Command line</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_next_uv_dates.html#github-actions-for-collaborators-only">GitHub Actions (for collaborators+ only)</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Run QA Test</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#command-line">Command line</a></li>
<li class="toctree-l2"><a class="reference internal" href="#github-actions-for-collaborators-only">GitHub Actions (for collaborators+ only)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#qa-test-artifact-zip-file">QA Test Artifact Zip File</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="spreadsheet_id_format.html">Spreadsheet Id Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#deploying">Deploying</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SIGLA Tools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Run QA Test</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/run_qa_test.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="spreadsheet_id_format.html" class="btn btn-neutral float-right" title="Spreadsheet Id Format" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="get_next_uv_dates.html" class="btn btn-neutral float-left" title="Get next update and verify dates" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="run-qa-test">
<h1>Run QA Test<a class="headerlink" href="#run-qa-test" title="Permalink to this headline">¶</a></h1>
<div class="section" id="command-line">
<h2>Command line<a class="headerlink" href="#command-line" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Install the package with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install siglatools
</pre></div>
</div>
</li>
<li><p>Run the following command with the correct configurations.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>run_qa_test -gacp /path/to/google-api-credentials.json -ssi &lt;spreadsheet_ids&gt; -dbe &lt;db_env&gt; -sdbcu &lt;staging_db_connection_url&gt; -pdbcu &lt;prod_db_connection_url&gt;
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="github-actions-for-collaborators-only">
<h2>GitHub Actions (for collaborators+ only)<a class="headerlink" href="#github-actions-for-collaborators-only" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Visit <a class="reference external" href="https://github.com/SIGLA-GU/siglatools/actions">https://github.com/SIGLA-GU/siglatools/actions</a>.</p></li>
<li><p>From the list of workflows, select <code class="docutils literal notranslate"><span class="pre">Manual</span> <span class="pre">Run</span> <span class="pre">QA</span> <span class="pre">Test</span></code>.</p></li>
<li><p>Click on the <code class="docutils literal notranslate"><span class="pre">Run</span> <span class="pre">workflow</span></code> dropdown button.</p></li>
<li><p>Enter a list of <code class="docutils literal notranslate"><span class="pre">spreadsheetId</span></code>s, delimited by <code class="docutils literal notranslate"><span class="pre">,</span></code>. For example <code class="docutils literal notranslate"><span class="pre">spreadsheetId-1,spreadsheetId-2,spreadsheetId-3</span></code>.</p></li>
<li><p>Enter a database environment, <code class="docutils literal notranslate"><span class="pre">staging</span></code> or <code class="docutils literal notranslate"><span class="pre">production</span></code>. Choose <code class="docutils literal notranslate"><span class="pre">staging</span></code> if you want to compare the spreadsheet(s) in step 4 with the <code class="docutils literal notranslate"><span class="pre">staging</span></code> database. Choose <code class="docutils literal notranslate"><span class="pre">production</span></code> if you want to compare the spreadsheet(s) in step 4 with the <code class="docutils literal notranslate"><span class="pre">production</span></code> database.</p></li>
<li><p>Click on the green <code class="docutils literal notranslate"><span class="pre">Run</span> <span class="pre">workflow</span></code> button to run the workflow.</p></li>
<li><p>Wait until a new workflow run result shows up or refresh the page, and click on it to see its details.</p></li>
<li><p>On the workflow details page, once the run is finished click on the <code class="docutils literal notranslate"><span class="pre">qa-test-artifact</span></code> to download a zip file.</p></li>
</ol>
</div>
<div class="section" id="qa-test-artifact-zip-file">
<h2>QA Test Artifact Zip File<a class="headerlink" href="#qa-test-artifact-zip-file" title="Permalink to this headline">¶</a></h2>
<p>The zip file contains any mismatches between the data in the GoogleSheet and the data in the database. One file for each institution, if there are mismatches between the institution in the GoogleSheet and the institution in the database. The files are organized by the spreadsheet they belong to. There is an additional file <code class="docutils literal notranslate"><span class="pre">extra-institutions.csv</span></code>, which contains institutions in the database, but for some reason, doesn’t have a counterpart institution in the GoogleSheet. If there are no files in the zip file, then the QA script found no mismatches for the given spreadsheets.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, To Huynh.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>